<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Phone Case Inventory Manager</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-4 sm:p-6">

  <!-- Header -->
  <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 mb-4">
    <h1 class="text-xl sm:text-2xl font-bold">ðŸ“± Phone Case Inventory</h1>
    <div class="flex gap-2 flex-wrap">
      <button onclick="saveData()" class="text-sm bg-green-600 text-white px-3 py-1 rounded">ðŸ’¾ Save</button>
      <button onclick="clearAllData()" class="text-sm bg-red-600 text-white px-3 py-1 rounded">ðŸ—‘ Clear All</button>
      <button onclick="toggleSettings()" class="text-sm bg-gray-800 text-white px-3 py-1 rounded">âš™ Settings</button>
    </div>
  </div>

  <!-- Add Phone Model -->
  <div class="mb-6 flex flex-col sm:flex-row flex-wrap gap-2 items-start sm:items-center">
    <input id="newModelInput" type="text" placeholder="Enter phone model" class="border rounded px-3 py-2 w-full sm:w-72" />
    <button onclick="addModel()" class="bg-black text-white px-4 py-2 rounded w-full sm:w-auto">Add Model</button>

    <!-- Quick Models -->
    <div class="flex flex-wrap gap-2">
      <button onclick="quickAdd('Galaxy A16')" class="text-xs bg-gray-200 px-2 py-1 rounded">Galaxy A16</button>
      <button onclick="quickAdd('Galaxy A17/A26')" class="text-xs bg-gray-200 px-2 py-1 rounded">Galaxy A17/A26</button>
      <button onclick="quickAdd('S24')" class="text-xs bg-gray-200 px-2 py-1 rounded">S24</button>
      <button onclick="quickAdd('S24 FE')" class="text-xs bg-gray-200 px-2 py-1 rounded">S24 FE</button>
      <button onclick="quickAdd('S24 Ultra')" class="text-xs bg-gray-200 px-2 py-1 rounded">S24 Ultra</button>
      <button onclick="quickAdd('S25')" class="text-xs bg-gray-200 px-2 py-1 rounded">S25</button>
      <button onclick="quickAdd('S25 FE')" class="text-xs bg-gray-200 px-2 py-1 rounded">S25 FE</button>
      <button onclick="quickAdd('S25 Ultra')" class="text-xs bg-gray-200 px-2 py-1 rounded">S25 Ultra</button>
      <button onclick="quickAdd('iPhone 13')" class="text-xs bg-gray-200 px-2 py-1 rounded">iPhone 13</button>
      <button onclick="quickAdd('iPhone 14')" class="text-xs bg-gray-200 px-2 py-1 rounded">iPhone 14</button>
      <button onclick="quickAdd('iPhone 15')" class="text-xs bg-gray-200 px-2 py-1 rounded">iPhone 15</button>
      <button onclick="quickAdd('iPhone 16')" class="text-xs bg-gray-200 px-2 py-1 rounded">iPhone 16</button>
      <button onclick="quickAdd('iPhone 17')" class="text-xs bg-gray-200 px-2 py-1 rounded">iPhone 17</button>
    </div>
  </div>

  <!-- Inventory -->
  <div id="inventory" class="space-y-4"></div>

  <!-- Check Order Button -->
  <button onclick="checkOrder()" class="mt-6 bg-blue-600 text-white px-4 py-2 rounded w-full sm:w-auto">
    ðŸ“¦ Check Order
  </button>

  <!-- Order Sheet -->
  <h2 class="text-lg font-bold mt-8">ðŸ§¾ Order Sheet</h2>
  <pre id="orderSheet" class="bg-white p-3 mt-2 rounded shadow whitespace-pre-wrap text-sm"></pre>

  <!-- Settings Modal -->
  <div id="settingsModal" class="fixed inset-0 bg-black bg-opacity-40 hidden items-center justify-center">
    <div class="bg-white p-4 rounded w-full max-w-md mx-2">
      <h2 class="text-lg font-bold mb-4">âš™ Case Types</h2>
      <div class="flex gap-2 mb-4">
        <input id="newCaseInput" type="text" placeholder="New case type" class="border rounded px-3 py-2 flex-1" />
        <button onclick="addCaseType()" class="bg-black text-white px-3 rounded">Add</button>
      </div>
      <ul id="caseList" class="space-y-2 mb-4 text-sm"></ul>
      <button onclick="toggleSettings()" class="text-sm text-gray-600">Close</button>
    </div>
  </div>

<script>
  const MIN_STOCK = 2;

  let cases = JSON.parse(localStorage.getItem('cases')) || [
    "Black Skin Feel Ring",
    "Black Skin Feel Stand",
    "Black Skin Feel Camera Stand",
    "MagSafe Clear Case",
    "Clear Gorilla",
    "Black Dual Layer Invisible Ring Case",
    "Blue Dual Layer Invisible Ring Case",
    "Pink Dual Layer Invisible Ring Case",
    "Silver Dual Layer Invisible Ring Case",
    "Red Dual Layer Invisible Ring Case",
    "Clear HeavyDuty Axis Design",
    "Black Wallet",
    "Brown Wallet"
  ];

  let models = JSON.parse(localStorage.getItem('models')) || [];
  let stock = JSON.parse(localStorage.getItem('stock')) || {};

  const inventoryDiv = document.getElementById("inventory");

  function saveData() {
    localStorage.setItem('cases', JSON.stringify(cases));
    localStorage.setItem('models', JSON.stringify(models));
    localStorage.setItem('stock', JSON.stringify(stock));
    alert('Data saved successfully');
  }

  function clearAllData() {
    if (!confirm('Delete all saved data?')) return;
    localStorage.clear();
    cases = [];
    models = [];
    stock = {};
    renderInventory();
    renderCaseList();
    document.getElementById('orderSheet').textContent = '';
  }

  function toggleSettings() {
    document.getElementById("settingsModal").classList.toggle("hidden");
    renderCaseList();
  }

  function addModel() {
    const name = newModelInput.value.trim();
    if (!name || models.includes(name)) return;
    models.push(name);
    stock[name] = {};
    cases.forEach(c => stock[name][c] = 2);
    newModelInput.value = '';
    renderInventory();
  }

  function quickAdd(name) {
    if (models.includes(name)) return;
    models.push(name);
    stock[name] = {};
    cases.forEach(c => stock[name][c] = 2);
    renderInventory();
  }

  function addCaseType() {
    const name = newCaseInput.value.trim();
    if (!name || cases.includes(name)) return;
    cases.push(name);
    models.forEach(m => stock[m][name] = 2);
    newCaseInput.value = '';
    renderCaseList();
    renderInventory();
  }

  function removeCaseType(name) {
    cases = cases.filter(c => c !== name);
    models.forEach(m => delete stock[m][name]);
    renderCaseList();
    renderInventory();
  }

  function renderCaseList() {
    const list = document.getElementById('caseList');
    list.innerHTML = '';
    cases.forEach(c => {
      list.innerHTML += `<li class="flex justify-between"><span>${c}</span><button class="text-red-600" onclick="removeCaseType('${c}')">Remove</button></li>`;
    });
  }

  function renderInventory() {
    inventoryDiv.innerHTML = '';
    models.forEach(m => {
      inventoryDiv.innerHTML += `
        <div class="bg-white p-3 rounded shadow">
          <h3 class="font-bold mb-2">${m}</h3>
          <div class="grid grid-cols-1 sm:grid-cols-2 gap-2">
            ${cases.map(c => `
              <div class="flex justify-between items-center text-sm">
                <span>${c}</span>
                <input type="number" min="0" value="${stock[m][c] ?? 2}" class="w-16 border rounded px-2"
                  onchange="stock['${m}']['${c}'] = parseInt(this.value)" />
              </div>`).join('')}
          </div>
        </div>`;
    });
  }

  function checkOrder() {
    let output = '';
    let hasOrder = false;

    models.forEach(m => {
      cases.forEach(c => {
        const available = stock[m][c] ?? 0;

        if (available === 0) {
          output += `${m} | ${c} â†’ Order 3\n`;
          hasOrder = true;
        } else if (available === 1 || available === 2) {
          output += `${m} | ${c} â†’ Order 2\n`;
          hasOrder = true;
        }
      });
    });

    document.getElementById('orderSheet').textContent = hasOrder
      ? output
      : 'âœ… All stock levels are healthy.';
  }

  renderInventory();
</script>

</body>
</html>
